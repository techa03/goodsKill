[![Codacy Badge](https://api.codacy.com/project/badge/Grade/112fce7b6cb54af0b2f8efaaf8da4c26)](https://app.codacy.com/app/275688448/goodsKill?utm_source=github.com&utm_medium=referral&utm_content=techa03/goodsKill&utm_campaign=Badge_Grade_Dashboard)
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Build Status](https://travis-ci.org/techa03/goodsKill.svg?branch=master)](https://travis-ci.org/techa03/goodsKill)
[![codecov](https://codecov.io/gh/techa03/goodsKill/branch/master/graph/badge.svg)](https://codecov.io/gh/techa03/goodsKill)
[![Quality Gate Status](https://sonarcloud.io/api/project_badges/measure?project=techa03_goodsKill&metric=alert_status)](https://sonarcloud.io/dashboard?id=techa03_goodsKill)


# å‰è¨€
é¡¹ç›®å‘½åä¸ºgoodsKillä¸€æ–¹é¢æœ‰å•†å“ç§’æ€é¡¹ç›®çš„æ„æ€(å¥½åƒæœ‰ç‚¹chinglishçš„å‘³é“)ï¼Œå¦å¤–ä¹Ÿå¯ç†è§£ä¸ºgood skillï¼Œæœ¬é¡¹ç›®å°±æ˜¯å¸Œæœ›æ­å»ºä¸€å¥—å®Œæ•´çš„é¡¹ç›®æ¡†æ¶ï¼ŒæŠŠä¸€äº›å¥½çš„æŠ€æœ¯å’ŒæŠ€å·§æ•´åˆè¿›æ¥ï¼ˆåå‘äºåç«¯æŠ€æœ¯ï¼‰ï¼Œæ–¹ä¾¿å­¦ä¹ å’ŒæŸ¥é˜…ã€‚

æœ¬é¡¹ç›®ä¸ºæ…•è¯¾ç½‘ä»¿è´­ç‰©ç§’æ€ç½‘ç«™,ç³»ç»Ÿåˆ†ä¸ºç”¨æˆ·æ³¨å†Œç™»å½•ã€ç§’æ€å•†å“ç®¡ç†æ¨¡å—ã€‚æ³¨å†Œç™»å½•åŠŸèƒ½ç›®å‰ä½¿ç”¨shiroå®Œæˆæƒé™éªŒè¯ï¼Œå‰ç«¯é¡µé¢åŸºäºbootstrapæ¡†æ¶æ­å»ºï¼Œå¹¶ä½¿ç”¨bootstrap-validatoræ’ä»¶è¿›è¡Œè¡¨å•éªŒè¯ã€‚ æ­¤é¡¹ç›®æ•´ä½“é‡‡ç”¨springMVC+RESTFULé£æ ¼ï¼ŒmybatisæŒä¹…å±‚æ¡†æ¶ï¼Œé‡‡ç”¨springcloud dubboå®ç°æœåŠ¡åˆ†å¸ƒå¼æœåŠ¡è°ƒç”¨ï¼ŒæœåŠ¡æ³¨å†Œå‘ç°ä½¿ç”¨nacos serverã€‚

æœ¬é¡¹ç›®æ‰©å±•äº†ç§’æ€åŠŸèƒ½ï¼Œé›†æˆäº†jmockå®Œæˆserviceå±‚çš„æµ‹è¯•ï¼Œæ”¯æŒæ•°æ®åº“åˆ†åº“åˆ†è¡¨ï¼Œå¹¶æä¾›åŸºæœ¬çš„ç§’æ€è§£å†³æ–¹æ¡ˆï¼ˆé€šè¿‡æ¨¡æ‹Ÿæ¥å£å®ç°ï¼‰ã€‚

- é›†æˆäº†å†…åµŒå¼H2æ•°æ®åº“ï¼Œæ–¹ä¾¿ç‹¬ç«‹è¿›è¡Œå•å…ƒåŠŸèƒ½æµ‹è¯•

- é›†æˆäº†sentinelé™æµç»„ä»¶ï¼Œå¯ä»¥é’ˆå¯¹httpè¯·æ±‚ä»¥åŠdubbo rpcè°ƒç”¨é™æµ

- é›†æˆäº†æ–°ç‰ˆæ”¯ä»˜å®easySDKï¼Œé€šè¿‡å½“é¢æ‰«å®Œæˆæ‰«ç ä»˜æ¬¾

## åˆ†æ”¯ä»‹ç»
`dev_gradle`åˆ†æ”¯ä¸ºä½¿ç”¨gradleæ„å»ºå·¥å…·ç®¡ç†é¡¹ç›®ä¾èµ–ï¼ˆå·²åœæ›´ï¼‰ï¼Œ`dev_maven`åˆ†æ”¯å¯¹åº”mavenæ„å»ºå·¥å…·ï¼ˆspringframeworkç‰ˆæœ¬4.xï¼Œå·²åœæ›´ï¼‰ï¼Œ`master`åˆ†æ”¯åŸºäºæœ€æ–°springcloudä½“ç³»æ„å»ºã€‚æœ¬é¡¹ç›®åŠŸèƒ½ç›®å‰æ¯”è¾ƒç®€é™‹ä¸”æœ‰å¾ˆå¤šä¸å®Œå–„çš„åœ°æ–¹ï¼Œä»…ä½œå­¦ä¹ å‚è€ƒä¹‹ç”¨ï¼Œå¦‚æœè§‰å¾—æœ¬é¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©çš„è¯·å¤šå¤šstaræ”¯æŒä¸€ä¸‹ğŸ‘~~~~ã€‚

> é™„ï¼šç äº‘é¡¹ç›®é“¾æ¥[https://gitee.com/techa/goodsKill](https://gitee.com/techa/goodsKill) ,cloneé€Ÿåº¦æ…¢çš„ç”¨ç äº‘ä»“åº“æ‹‰å§ï¼Œä¸å®šæœŸåŒæ­¥åˆ°ç äº‘~
## æŠ€æœ¯é€‰å‹âœ¨

### åç«¯æŠ€æœ¯:
æŠ€æœ¯ | åç§° | å®˜ç½‘
----|------|----
SpringBoot |  æ¡†æ¶ | [https://spring.io/projects/spring-boot](https://spring.io/projects/spring-boot)
MyBatis-Plus | MyBatiså¢å¼ºå·¥å…·  | [https://mp.baomidou.com/](https://mp.baomidou.com/)
PageHelper | MyBatisç‰©ç†åˆ†é¡µæ’ä»¶  | [http://git.oschina.net/free/Mybatis_PageHelper](http://git.oschina.net/free/Mybatis_PageHelper)
Hikari | æ•°æ®åº“è¿æ¥æ±  | [https://github.com/brettwooldridge/HikariCP](https://github.com/brettwooldridge/HikariCP)
ZooKeeper | åˆ†å¸ƒå¼åè°ƒæœåŠ¡  | [http://zookeeper.apache.org/](http://zookeeper.apache.org/)
Redis | åˆ†å¸ƒå¼ç¼“å­˜æ•°æ®åº“  | [https://redis.io/](https://redis.io/)
Kafka | æ¶ˆæ¯é˜Ÿåˆ—  | [http://kafka.apache.org/](http://kafka.apache.org/)
RabbitMQ | æ¶ˆæ¯é˜Ÿåˆ—  | [https://www.rabbitmq.com/](https://www.rabbitmq.com/)
Logback | æ—¥å¿—ç»„ä»¶  | [https://logback.qos.ch/](https://logback.qos.ch/)
Protobuf & json | æ•°æ®åºåˆ—åŒ–  | [https://github.com/google/protobuf](https://github.com/google/protobuf)
Maven | é¡¹ç›®æ„å»ºç®¡ç†  | [http://maven.apache.org/](http://maven.apache.org/)
SonarQube | é¡¹ç›®ä»£ç è´¨é‡ç›‘æ§ | [https://www.sonarqube.org/](https://www.sonarqube.org/)
Swagger2 | é¡¹ç›®APIæ–‡æ¡£ç”ŸæˆåŠæµ‹è¯•å·¥å…· | [http://swagger.io/](http://swagger.io/)
Mockito | mockç±»ç”Ÿæˆæµ‹è¯•å·¥å…· | [https://site.mockito.org/](https://site.mockito.org/)
Jacoco | æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Šæ’ä»¶ | [http://www.eclemma.org/jacoco/](http://www.eclemma.org/jacoco/)
Shiro | ç”¨æˆ·æƒé™å®‰å…¨ç®¡ç†æ¡†æ¶ | [https://shiro.apache.org/](https://shiro.apache.org/)
MongoDB | Mongoæ•°æ®åº“ | [https://www.mongodb.com/](https://www.mongodb.com/)
MySQL | MySQLæ•°æ®åº“ | [https://www.mysql.com/](https://www.mysql.com/)
Reactor | ååº”å¼å¼‚æ­¥ç¼–ç¨‹ | [https://projectreactor.io/](https://projectreactor.io/)
Spring Session | Springä¼šè¯ç®¡ç† | [https://spring.io/projects/spring-session](https://spring.io/projects/spring-session)
Elasticsearch | å…¨æ–‡æœç´¢å¼•æ“ | [https://www.elastic.co](https://www.elastic.co)
H2 | H2æ•°æ®åº“ | [http://www.h2database.com/html/main.html](http://www.h2database.com/html/main.html)
Sharding-JDBC | åˆ†åº“åˆ†è¡¨ç»„ä»¶ | [https://shardingsphere.apache.org](https://shardingsphere.apache.org)
Spring Cloud Dubbo | SpringCloudç»„ä»¶ | [https://spring.io/projects/spring-cloud-alibaba](https://spring.io/projects/spring-cloud-alibaba)
Spring Cloud Sentinel | SpringCloudé™æµé™çº§ç»„ä»¶ | [https://spring.io/projects/spring-cloud-alibaba](https://spring.io/projects/spring-cloud-alibaba)
Spring Cloud Nacos | SpringCloudç»„ä»¶ | [https://spring.io/projects/spring-cloud-alibaba](https://spring.io/projects/spring-cloud-alibaba)
Kotlin | Kotlin | [https://kotlinlang.org/](https://kotlinlang.org/)

### å‰ç«¯æŠ€æœ¯:
æŠ€æœ¯ | åç§° | å®˜ç½‘
----|------|----
JQuery | å‡½å¼åº“  | [http://jquery.com/](http://jquery.com/)
Bootstrap | å‰ç«¯æ¡†æ¶  | [http://getbootstrap.com/](http://getbootstrap.com/)
LayUI | å‰ç«¯UIæ¡†æ¶ | [http://www.layui.com/](http://www.layui.com/)

## é¡¹ç›®æ¨¡å—ä»‹ç»
```
goodsKill
|--goodskill-chat-provider                  ||èŠå¤©å®¤æœåŠ¡æä¾›è€…ï¼ˆå¾…å®Œæˆï¼‰
|--goodsKill-common                         ||é¡¹ç›®å…¬å…±æœåŠ¡ï¼ˆå¾…è¡¥å……ï¼‰
|--goodskill-gateway                        ||å¾®æœåŠ¡ç½‘å…³
|--goodsKill-es-provider                    ||elasticsearchæœç´¢æœåŠ¡æä¾›è€…ï¼Œç›®å‰æä¾›æ ¹æ®å•†å“åç§°æ£€ç´¢å•†å“åº“
|   |--goodskill-es-api                     
|   |--goodskill-es-dao                     
|   |--goodskill-es-service                 
|--goodsKill-mongo-provider                 ||mongoå­˜å‚¨æœåŠ¡æä¾›è€…
|   |--goodskill-mongo-service              
|--goodsKill-spring-boot-provider           ||è®¢å•ã€ç”¨æˆ·ã€ç™»å½•ã€å•†å“ç®¡ç†æœåŠ¡æä¾›è€…ï¼ˆå¾…æ‹†åˆ†ï¼‰
|   |--goodsKill-api
|   |--goodsKill-mp-dao                     ||ä½¿ç”¨MyBatis-Plusè®¿é—®MySqlæ•°æ®æº  
|   |--goodsKill-entry                      
|   |--goodsKill-generator                  
|   |--goodsKill-service                    
|   |--goodsKill-util                       
|--goodskill-spring-boot-starter            ||é¡¹ç›®é…ç½®è‡ªåŠ¨è£…é…
|--goodsKill-spring-boot-web-consumer       ||æä¾›é¡µé¢å®¢æˆ·ç«¯è®¿é—®ï¼Œcontrollerå±‚åœ¨è¿™ä¸€æ¨¡å—
|   |--goodsKill-web   
|--goodskill-job                            ||elastic-jobå®šæ—¶ä»»åŠ¡ 
```

## å¼€å‘ç¯å¢ƒç‰ˆæœ¬è¯´æ˜
- JDK: OpenJDK11
- MySQL: 8.0+
- Kafka: 2.5.0
- MongoDB: 4.0+
- Elasticsearch: 7.7.0
- Sharding-JDBC: 4.1.1
- RabbitMQ: 3.8.5
- SpringCloud: Hoxton.SR9
- SpringBoot: 2.3.x.RELEASE
- SpringCloudAlibaba: 2.2.1.RELEASE

> **æ³¨**:å…¶ä»–ç¯å¢ƒç‰ˆæœ¬æš‚æœªæµ‹è¯•

## å¦‚ä½•å¯åŠ¨é¡¹ç›®
> #### æ–¹æ³•ä¸€ï¼šä½¿ç”¨Dockeré•œåƒæ„å»ºè„šæœ¬

- é¡¹ç›®æ ¹ç›®å½•goodsKillä¸­æ‰§è¡Œ
  ```
  mvn clean install
  æˆ– 
  #è·³è¿‡å•å…ƒæµ‹è¯•
  mvn clean install -DskipTests
  ```
- è¿›å…¥é¡¹ç›®æ ¹ç›®å½•(ç¡®ä¿å·²å®‰è£…composeä»¥æ”¯æŒdocker-composeå‘½ä»¤)ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
     ```
    docker-compose up ï¼ˆç¬¬ä¸€æ¬¡è¿è¡Œåªéœ€æ‰§è¡Œæ­¤å‘½ä»¤ï¼‰
    or
    docker-compose up -d //-dåå°è¿è¡Œ
    or
    docker-compose up -d --build //buildé‡æ–°æ„å»ºé•œåƒæ–‡ä»¶ï¼Œé’ˆå¯¹é¡¹ç›®è‡ªå®šä¹‰é•œåƒé…ç½®éœ€è¦ä¿®æ”¹çš„æƒ…å†µ
    or
    docker-compose up -d --no-recreate //å¦‚ä¸Šæ¬¡ä»¥æ„å»ºå®¹å™¨ï¼Œåˆ™æ­¤æ¬¡ä¼šè·³è¿‡æ„å»ºå®¹å™¨
     ```
    **æ³¨**:æ¨èä½¿ç”¨docker-composeå‘½ä»¤ï¼ˆæ¨èç”µè„‘è¿è¡Œå†…å­˜16Gä»¥ä¸Šï¼‰ï¼Œæ— éœ€æ‰‹åŠ¨ä¸‹è½½è½¯ä»¶å®‰è£…åŒ…ï¼Œå¼€ç®±å³ç”¨ã€‚æ­¤å‘½ä»¤ä¼šè‡ªåŠ¨æ‹‰å–dockeré•œåƒå¹¶ä»¥é»˜è®¤ç«¯å£è¿è¡Œ

    é•œåƒ | ç‰ˆæœ¬ | ç«¯å£ | ç”¨æˆ·åå¯†ç 
    ---|---|---|---
    Nacos | latest | 8848 | æ— 
    Redis | latest | 6379 | æ— 
    Kafka | latest | 9092 | æ— 
    Mongo | 4.2.6 | 27017 | æ— 
    MySQL | 8.0 | 3306 | root:Password123
    Zookeeper | latest | 2181 | æ— 
    Elasticsearch | 7.7.0 | 9200 9300 | æ— 
    Kibana | 7.7.0 | 5601 | æ— 
    RabbitMQ | latest | 5672 15672 | æ— 


 **æ³¨**:é™¤ä»¥ä¸Šé•œåƒå¤–ï¼Œdocker-composeæ–‡ä»¶è¿˜åŒ…å«é¡¹ç›®æ„å»ºå‘½ä»¤ï¼Œç›®å‰æš‚æœªåˆ—å‡º

> #### æ–¹æ³•äºŒï¼šä½¿ç”¨IDEAè¿è¡Œé¡¹ç›®

- å¦‚æ— dockerè¿è¡Œç¯å¢ƒï¼Œå¯å‚ç…§å®˜ç½‘å®‰è£…ä¸Šè¿°åº”ç”¨ï¼Œæœ¬åœ°é»˜è®¤ç«¯å£å¯åŠ¨

- æ‰¾åˆ°EsApplicationç±»mainæ–¹æ³•å¯åŠ¨è¿œç¨‹æœåŠ¡

- æ‰¾åˆ°GoodsKillRpcServiceApplicationç±»mainæ–¹æ³•å¯åŠ¨è¿œç¨‹æœåŠ¡ï¼Œå¹¶ä¸”éœ€è¦åœ¨hostä¸­åŠ å…¥ä»¥ä¸‹ä¿¡æ¯
     ```
     127.0.0.1 kafka
     127.0.0.1 nacos
     ```

- è¿›å…¥goodsKill-webæ¨¡å—æ ¹ç›®å½•ï¼Œè¿è¡Œå‘½ä»¤æˆ–ç›´æ¥é€šè¿‡SampleWebJspApplicationç±»mainæ–¹æ³•å¯åŠ¨
     ```
    mvn spring-boot:run -Dspring.profiles.active=dev
     ```

- å¦‚å·²å®‰è£…MongoDBï¼Œå¯ä»¥mainæ–¹æ³•å¯åŠ¨MongoReactiveApplicationï¼Œé€šè¿‡ä½¿ç”¨è¯¥æœåŠ¡æ“ä½œmongoåº“
  
> #### å¯¼å…¥é¡¹ç›®æ•°æ®åº“åŸºç¡€æ•°æ® âš ï¸

- æ‰¾åˆ°seckill.sqlæ–‡ä»¶ï¼Œåœ¨æœ¬åœ°mysqlæ•°æ®åº“ä¸­å»ºç«‹seckillä»“åº“å¹¶æ‰§è¡Œå®Œæˆæ•°æ®åˆå§‹åŒ–æ“ä½œ

  **æ³¨**:docker-composeå¯åŠ¨æ–¹å¼ä¼šè‡ªåŠ¨æ‰§è¡Œåˆå§‹åŒ–è„šæœ¬ï¼Œå› æ­¤æ— éœ€æ‰§è¡Œè¯¥æ­¥éª¤

- application.ymlå·²åŒ…å«æ‰€æœ‰ç¯å¢ƒé…ç½®ä¿¡æ¯ï¼Œæ ¹æ®ä¸ªäººéœ€è¦åˆ‡æ¢ç¯å¢ƒé…ç½®ä¿®æ”¹ï¼Œä¿®æ”¹activeå±æ€§å€¼å³å¯
     ```
     spring:
       profiles:
         active: dev
     ```
- å¯åŠ¨å®Œæˆåè®¿é—®ç™»å½•é¡µé¢[http://localhost:8080/goodskill/login](http://localhost:8080/goodskill/login)ï¼Œé»˜è®¤ç®¡ç†å‘˜è´¦å·admin123ï¼Œå¯†ç ï¼šaa123456

> #### é¢å¤–åŠŸèƒ½ï¼ˆå¯é€‰ï¼‰
- å·²é›†æˆsentinelé™æµç»„ä»¶ï¼Œæ”¯æŒnacosé…ç½®ä¸­å¿ƒæ–¹å¼æ¨é€é™æµè§„åˆ™ï¼Œä½¿ç”¨æ—¶éœ€å¯åŠ¨sentinelæ§åˆ¶å°ï¼Œå¹¶ä»¥18088ç«¯å£å¯åŠ¨ï¼Œdockerç¯å¢ƒæš‚ä¸æ”¯æŒã€‚

## æ‰“åŒ…éƒ¨ç½²æ–¹æ³•
- å¯å‚è€ƒDockerfileæ–‡ä»¶ï¼Œå¦‚:
```
FROM openjdk:11.0.7-jre
COPY goodsKill-service/target/goodsKill-service.jar /app/goodsKill-service.jar
WORKDIR /app
CMD ["java", "-jar","-Dspring.profiles.active=docker","-Duser.timezone=GMT+08", "goodsKill-service.jar"]
```

## å¸¸è§é—®é¢˜
- ä½¿ç”¨ideaå¯åŠ¨SampleWebJspApplicationç±»(goodsKill-webæ¨¡å—)æ—¶ä¼šå‡ºç°è®¿é—®ä¸äº†é¡µé¢çš„é—®é¢˜ï¼Œeclipseæ— æ­¤é—®é¢˜ã€‚
è§£å†³åŠæ³•ï¼šé…ç½®å¯åŠ¨ç±»çš„å·¥ä½œç›®å½•ä¸ºgoodsKill-web
- æ–°ç‰ˆæ”¯ä»˜å®SDKå·²é›†æˆï¼Œä½¿ç”¨æ—¶éœ€å°†AlipayRunnerä¸­çš„alipayå¯¹åº”é…ç½®æ›¿æ¢æˆä½ çš„æ”¯ä»˜å®åº”ç”¨é…ç½®ï¼ˆæœ¬é¡¹ç›®åŸºäºæ²™ç®±ç¯å¢ƒï¼‰
```
    //ä¸ºäº†é˜²æ­¢å¯åŠ¨é¡¹ç›®æŠ¥é”™é»˜è®¤é…ç½®ä¸º1ï¼Œå¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ä¿®æ”¹å¯¹åº”é…ç½®
    @Value("${alipay.merchantPrivateKey:1}")
    private String merchantPrivateKey;

    @Value("${alipay.alipayPublicKey:1}")
    private String alipayPublicKey;

    @Value("${alipay.notifyUrl:1}")
    private String notifyUrl;

    @Value("${alipay.encryptKey:1}")
    private String encryptKey;

    @Value("${alipay.appId:1}")
    private String appId;

    @Value("${alipay.gatewayHost:openapi.alipaydev.com}")
    private String gatewayHost;

    @Value("${alipay.signType:RSA2}")
    private String signType;

    @Value("${alipay.qrcodeImagePath:1}")
    private String qrcodeImagePath;
```

## åˆ†åº“åˆ†è¡¨æƒ…å†µè¯´æ˜
è¡¨ | æ•°æ®åº“ | æ˜¯å¦åˆ†åº“ | åˆ†åº“å­—æ®µ | æ˜¯å¦åˆ†è¡¨ | åˆ†è¡¨å­—æ®µ
---|---|---|---|---|---
success_killed | MySQL | æ˜¯ï¼ˆåŒä¸€æœåŠ¡å™¨ä¸­ï¼Œåˆ†ä¸ºseckillå’Œseckill_01ä¸¤ä¸ªåº“ï¼‰ | seckill_id | æ˜¯ï¼ˆåˆ†ä¸ºsuccess_killed_0,success_kill_1ä¸¤å¼ è¡¨ï¼‰ | user_phone

**æ³¨**:å…¶ä»–è¡¨å‡æœªåˆ†åº“åˆ†è¡¨ï¼Œé»˜è®¤ä½¿ç”¨seckillä½œä¸ºä¸»åº“

## ç§’æ€æ–¹æ¡ˆğŸ”¥ğŸ”¥
ç›®å‰å®ç°äº†å‡ ç§ç§’æ€æ–¹æ¡ˆï¼Œé€šè¿‡SeckillMockControlleræä¾›æµ‹è¯•æ¥å£

swaggerä¸»é¡µæµ‹è¯•åœ°å€ï¼šhttp://localhost:8080/goodskill/swagger-ui.html#/

swaggerå¢å¼ºä¸»é¡µæµ‹è¯•åœ°å€ï¼šhttp://localhost:8080/goodskill/doc.html

- åœºæ™¯ä¸€ï¼šsychronizedåŒæ­¥é”å®ç°
- åœºæ™¯äºŒï¼šredissonåˆ†å¸ƒå¼é”å®ç°
- åœºæ™¯ä¸‰ï¼šActiveMQå®ç°(å·²åºŸå¼ƒ)
- åœºæ™¯å››ï¼šKafkaå®ç°
- åœºæ™¯äº”ï¼šæœ¬åœ°äº‹åŠ¡å®ç°
- åœºæ™¯å…­ï¼šå®æ—¶ç­‰å¾…ç§’æ€å¤„ç†ç»“æœ(å·²åºŸå¼ƒ)
- åœºæ™¯ä¸ƒï¼šzookeeperåˆ†å¸ƒå¼é”
- åœºæ™¯å…«ï¼šä½¿ç”¨redisè¿›è¡Œç§’æ€å•†å“å‡åº“å­˜æ“ä½œï¼Œç§’æ€ç»“æŸåå¼‚æ­¥å‘é€MQï¼Œä½¿ç”¨mongoDBå®Œæˆæ•°æ®è½åœ°
- åœºæ™¯ä¹ï¼šSpringCloudStream Rabbitmqå®ç°

å¯åœ¨webæ§å°æŸ¥çœ‹ç§’æ€ç»“æœï¼Œæ‰“å°ä¿¡æ¯ç±»ä¼¼ï¼š
 ```
2019-03-25 13:40:42.123  INFO 1016 --- [io-18080-exec-9] o.s.w.controller.SeckillMockController   : ç§’æ€æ´»åŠ¨å¼€å§‹ï¼Œç§’æ€åœºæ™¯ä¸‰(activemqæ¶ˆæ¯é˜Ÿåˆ—å®ç°)æ—¶é—´ï¼šMon Mar 25 13:40:42 CST 2019,ç§’æ€idï¼š1001
2019-03-25 13:40:49.050  INFO 1016 --- [ jmsContainer-1] o.s.web.mqlistener.SeckillTopicListener  : æœ€ç»ˆæˆåŠŸäº¤æ˜“ç¬”æ•°ï¼š100
2019-03-25 13:40:49.050  INFO 1016 --- [ jmsContainer-1] o.s.web.mqlistener.SeckillTopicListener  : ç§’æ€æ´»åŠ¨ç»“æŸï¼Œç§’æ€åœºæ™¯ä¸‰(activemqæ¶ˆæ¯é˜Ÿåˆ—å®ç°)æ—¶é—´ï¼šMon Mar 25 13:40:49 CST 2019,ç§’æ€idï¼š1001
 ```
 
## åç»­æ›´æ–°è®¡åˆ’ğŸ”¨
âœ… é›†æˆspring cloud alibabaç»„ä»¶

âœ… åŸºäºé…ç½®ä¸­å¿ƒæ”¹é€ é¡¹ç›®é…ç½®ï¼ˆæ”¯ä»˜å®é…ç½®ä¿å­˜äºnacosé…ç½®ä¸­å¿ƒï¼Œé˜²æ­¢é…ç½®æ³„éœ²ï¼‰

âœ… æ–°ç‰ˆæ”¯ä»˜å®SDKé›†æˆï¼Œä½¿ç”¨å½“é¢æ‰«å®Œæˆä»˜æ¬¾

â³ æ·»åŠ ç§’æ€ç”¨æˆ·èŠå¤©å®¤åŠŸèƒ½ï¼Œä½¿ç”¨nettyç½‘ç»œé€šä¿¡ï¼Œmavenåˆ†æ”¯å·²ç»å®ç°ï¼Œmasteråˆ†æ”¯å¾…é›†æˆ

â³ ä¸°å¯Œé¡¹ç›®æ–‡æ¡£

### APIæ¥å£
![image](./doc/shortcut/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20170623222039.png)

### APIæ¥å£è¯´æ˜
![image](./doc/shortcut/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20180819224521.png)

## é¡µé¢å±•ç¤º

#### ç™»å½•ï¼š
![image](./doc/shortcut/QQ%E6%B5%8F%E8%A7%88%E5%99%A8%E6%88%AA%E5%9B%BE20180701215746.png)

#### æ³¨å†Œï¼š
![image](./doc/shortcut/QQ%E6%B5%8F%E8%A7%88%E5%99%A8%E6%88%AA%E5%9B%BE20180701215804.png)

#### ä¸»é¡µï¼š
![image](./doc/shortcut/QQ%E6%B5%8F%E8%A7%88%E5%99%A8%E6%88%AA%E5%9B%BE20180701215849.png)

#### å•†å“æŸ¥è¯¢:
> æœç´¢æ¡†ä¸‹æ‹‰å•†å“å€™é€‰ä¿¡æ¯åŸºäºelasticsearchå®ç°ï¼Œæ”¯æŒå…³é”®è¯é«˜äº®æ˜¾ç¤º

![image](./doc/shortcut/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20200523214633.png)

#### å•†å“åˆ—è¡¨é™æµï¼š
![image](./doc/shortcut/å¾®ä¿¡æˆªå›¾_20200802182806.png)

#### ç”¨æˆ·è§’è‰²æƒé™ç®¡ç†ï¼š
![image](./doc/shortcut/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20180727155310.png)
![image](./doc/shortcut/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20180727155353.png)
![image](./doc/shortcut/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20180727155400.png)
![image](./doc/shortcut/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20180727155408.png)

## æ•°æ®åº“è¡¨ç»“æ„
![image](model_table.png)

## å‚è€ƒæ–‡æ¡£
- è§£å†³Dockerå®¹å™¨è¿æ¥ Kafka è¿æ¥å¤±è´¥é—®é¢˜ï¼šhttps://www.cnblogs.com/hellxz/p/why_cnnect_to_kafka_always_failure.html
